# 机器初始化

```shell
# 关闭防火墙
systemctl stop firewalld.service
systemctl disable firewalld.service

# 关闭 SELINUX
setenforce 0 
sed -i 's/^SELINUX=.*/SELINUX=disabled/' /etc/selinux/config

# 配置本机名
hostnamectl set-hostname yum-ngxin

# 配置 /etc/hosts
cat <<EOF>> /etc/hosts
192.168.235.10     yum-ngxin
192.168.235.11     node01
192.168.235.12     node02
192.168.235.13     node03
192.168.235.14     node04
EOF

# 配置本地yum源
mkdir -p /etc/yum.repos.d/bak
mv /etc/yum.repos.d/*.repo /etc/yum.repos.d/bak
mount -o loop,ro CentOS-7-x86_64-DVD-2009.iso /mnt

cat > /etc/yum.repos.d/CentOS7.9.repo << EOF
[CentOS7]
baseurl=file:///mnt
enabled=1
gpgcheck=0
EOF

yum clean all
yum makecache
yum install -y wget zip unzip vim lrzsz rsync 

# 安装Java
rpm -ivh /root/jdk-8u421-linux-x64.rpm

# chrony 配置时间服务器
yum install chrony -y
systemctl enable --now chronyd
sed -i /^server/d /etc/chrony.conf
sed -i '2a\server ntp.aliyun.com iburst' /etc/chrony.conf
systemctl restart chronyd
chronyc sources
```

